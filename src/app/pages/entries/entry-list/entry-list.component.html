<div [ngClass]="{ 'loader-container': isLoading }">

    <img class="loader-img" *ngIf="isLoading" src="../../../../assets/loader.gif" alt="loader">

    <app-bread-crumb [items]="breadCrumb"></app-bread-crumb>

    <app-page-header
        page-title="Lançamentos"
        button-text="Novo Lançamento"
        button-class="btn-success"
        button-link="/entries/form">
    </app-page-header>

    <table class="table table-hover">
        <thead>
            <tr class="bg-dark text-light">
                <th>Lançamentos</th>
                <th>Categoria</th>
                <th class="text-right">Valor</th>
                <th class="text-center">Ações</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let entry of resources">
                <td>
                    <strong>{{ entry.name }}</strong><br>
                    <small class="text-muted">{{ entry.date }}</small><br>
                    <small *ngIf="entry.description">{{ entry.description }}</small>
                </td>
                <td>
                    {{ entry.category.name }}
                </td>
                <td class="text-right">
                    <strong
                        [class.text-success]="entry.type === 'revenue'"
                        [class.text-danger]="entry.type === 'expense'">{{ 'R$ ' + entry.amount }}
                    </strong><br>
                    <span class="badge badge-light">{{ entry.paidText }}</span>
                </td>
                <td class="text-center">
                    <a [routerLink]="[ 'form/'+entry.id ]" class="btn btn-outline-info mr-2">Editar</a>
                    <button (click)="deleteResource(entry)" class="btn btn-outline-danger">Excluir</button>
                </td>
            </tr>
        </tbody>
    </table>

</div>


